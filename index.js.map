{"version":3,"file":"index.js","sources":["../src/js/unsplash-api.js","../src/js/refs.js","../src/js/create-markup.js","../src/js/loader.js","../src/js/gallery.js"],"sourcesContent":["import axios from 'axios';\n\n/**\n *\n * @param {string} query\n * @returns images list\n */\nexport async function getPhotos(query) {\n  const BASE_URL = 'https://api.unsplash.com';\n  const API_KEY = 'LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc';\n  const API_ENDPOINT = '/search/photos';\n\n  try {\n    const response = await axios.get(`${BASE_URL}${API_ENDPOINT}`, {\n      params: {\n        query,\n        per_page: 12,\n        orientation: 'portrait',\n        client_id: API_KEY,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n","export const refs = {\n  form: document.querySelector('.js-search-form'),\n  galleryList: document.querySelector('.js-gallery'),\n  loader: document.querySelector('.loader'),\n};\n","export function createMarkup(array) {\n  return array.map(item => `\n      <li class=\"gallery-item\">\n        <img src=\"${item.urls.small}\" alt=\"${item.description}\" />\n      </li>\n    `).join('')\n  \n\n  \n}","import { refs } from './refs';\nexport function showLoader() {\n  refs.loader.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n  refs.loader.classList.add('is-hidden');\n}\n","import { getPhotos } from './unsplash-api';\nimport { refs } from './refs';\nimport { createMarkup } from './create-markup';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { showLoader, hideLoader } from './loader';\nrefs.form.addEventListener('submit', onSubmit);\n\nasync function onSubmit(event) {\n  event.preventDefault();\n  showLoader();\n  refs.galleryList.innerHTML = '';\n  const query = event.currentTarget.elements.search.value.trim();\n\n  try {\n    const response = await getPhotos(query);\n    if (response.results.length === 0) {\n      return iziToast.error({\n        message: `По вашому заипту ${query}, нічого не знайдено`,\n        position: 'bottomRight',\n        backgroundColor: 'red',\n        theme: 'dark',\n      });\n    }\n\n    refs.galleryList.innerHTML = createMarkup(response.results);\n  } catch (error) {\n    console.log(error);\n  } finally {\n    hideLoader();\n  }\n}\n"],"names":["getPhotos","query","BASE_URL","API_KEY","API_ENDPOINT","axios","error","refs","createMarkup","array","item","showLoader","hideLoader","onSubmit","event","response","iziToast"],"mappings":"wvBAOO,eAAeA,EAAUC,EAAO,CACrC,MAAMC,EAAW,2BACXC,EAAU,8CACVC,EAAe,iBAErB,GAAI,CASF,OARiB,MAAMC,EAAM,IAAI,GAAGH,CAAQ,GAAGE,CAAY,GAAI,CAC7D,OAAQ,CACN,MAAAH,EACA,SAAU,GACV,YAAa,WACb,UAAWE,CACZ,CACP,CAAK,GACe,IACjB,OAAQG,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH,CCzBO,MAAMC,EAAO,CAClB,KAAM,SAAS,cAAc,iBAAiB,EAC9C,YAAa,SAAS,cAAc,aAAa,EACjD,OAAQ,SAAS,cAAc,SAAS,CAC1C,ECJO,SAASC,EAAaC,EAAO,CAClC,OAAOA,EAAM,IAAIC,GAAQ;AAAA;AAAA,oBAEPA,EAAK,KAAK,KAAK,UAAUA,EAAK,WAAW;AAAA;AAAA,KAExD,EAAE,KAAK,EAAE,CAId,CCRO,SAASC,GAAa,CAC3BJ,EAAK,OAAO,UAAU,OAAO,WAAW,CAC1C,CAEO,SAASK,GAAa,CAC3BL,EAAK,OAAO,UAAU,IAAI,WAAW,CACvC,CCDAA,EAAK,KAAK,iBAAiB,SAAUM,CAAQ,EAE7C,eAAeA,EAASC,EAAO,CAC7BA,EAAM,eAAc,EACpBH,IACAJ,EAAK,YAAY,UAAY,GAC7B,MAAMN,EAAQa,EAAM,cAAc,SAAS,OAAO,MAAM,OAExD,GAAI,CACF,MAAMC,EAAW,MAAMf,EAAUC,CAAK,EACtC,GAAIc,EAAS,QAAQ,SAAW,EAC9B,OAAOC,EAAS,MAAM,CACpB,QAAS,oBAAoBf,CAAK,uBAClC,SAAU,cACV,gBAAiB,MACjB,MAAO,MACf,CAAO,EAGHM,EAAK,YAAY,UAAYC,EAAaO,EAAS,OAAO,CAC3D,OAAQT,EAAO,CACd,QAAQ,IAAIA,CAAK,CACrB,QAAY,CACRM,GACD,CACH"}